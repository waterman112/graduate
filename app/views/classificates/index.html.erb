

<div id="jstree_demo" style="margin-top:10%;">
  <ul>
    <% @classificates.each do |classificate| %>
      <li> <%= classificate.fenlei %>  </li>
    <% end %>
  </ul>
</div>

<table class="table table-inverse">
  <tr>
    <th>ID:</th>
    <th>FenLei:</th>
    <th>编辑</th>
    <th>删除</th>
  </tr>
  <% @classificates.each do |classificate| %>
    <tr>
      <td>
        <%= classificate.id %>
      </td>
      <td>
        <%= link_to( "#{classificate.fenlei}", articles_path(:fenlei => classificate.id), :style => "color:#fff;" ) %>
      </td>
      <td><%= link_to "编辑", edit_classificate_path(classificate), class:"btn btn-primary" %></td>
      <td><%= link_to "删除", classificate_path(classificate),method: :delete, data:{confirm:"Are you sure!"}, class:"btn btn-danger" %></td>
    </tr>
  <% end %>
</table>

<p style="margin-top:10%;"><%= link_to "新增分类", new_classificate_path, class:"btn btn-primary" %></p>

<!--后台跳转到前台-->
<div id="user_nav" style="float:right; position:absolute; right:0; top:0;">
  <% if user_signed_in?  %>
    <p>
    <%= link_to "退出" , destroy_user_session_path, :style => "font-size:20px; color:#000; ", :method => :delete  %>
    </p>
    <p>
    <%= link_to "进入前台", articles_path, {:style => "font-size:20px; color:#000; "} %>
    </p>
  <% else %>
    <p>
    <%= link_to "注册", new_user_registration_path, {:style => "font-size:20px; color:#000; "}  %>
    </p>
    <p>
    <%= link_to "登录", new_user_session_path, {:style => "font-size:20px; color:#000; "} %>
    </p>
  <% end %>
</div>
<!---->

<script>
$("#jstree_demo").jstree({
  "core":{
    "themes":{
      "variant":"large"
    }
  }
});

//js代码 和  rails代码 能够混合式编程。
//错误的原因是  大师用的是 map方法，我用的是 each 方法。
//var jia = [];
//jia.push( { <%= raw  @classificates.each do |e| e.id end  %>});
</script>



